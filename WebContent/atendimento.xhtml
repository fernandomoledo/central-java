<ui:composition  template="template.xhtml" 
		xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:fmt="http://java.sun.com/jsp/jstl/fmt"
       xmlns:pe="http://primefaces.org/ui/extensions"> 
<ui:define name="conteudo">
	<!-- Conteúdo da página -->
    <div class="container-fluid">
      <!-- Título da Página -->
       <div class="push3"></div>
      <div class="row">
        <div class="col-md-12 text-center" id="topo">
          <h1>Histórico de chamados de sistemas atendidos - SAE/CAU</h1>
          <h2>Cadastro de atendimento</h2>
        </div>
      </div>
      <!-- Pula 10px -->
      <div class="push1"></div>
       <div class="row">
	      	<div class="col-md-12 text-center">
	      	
	      		<h:form>
	      				
	      				<h:link outcome="atendente" value="Atendentes" /> |
	      				<h:link outcome="faq" value="Histórico de Atendimentos" /> |
	      				<h:link outcome="sistemas" value="Sistemas" /> |
	      				<br /><br />
	      				
	      		      		
	      		</h:form>
	      	</div>
      	</div>
      	     <div class="push2"></div>
      <div class="row">
      	
        <!-- Container dos painéis -->
        <div class="col-md-12">
        <a href="faq.jsf" class="btn btn-primary">Voltar</a>
        	<div class="push2"></div>
         <p:messages autoUpdate="true" closable="true" id="mensagens"  />
          <h:form id="fcad">    
          			
          	
          		<h:inputHidden id="id_atendimento" value="#{atendimentoMB.atendimento.id}" />
		        <p:panelGrid columns="2" style="width:100%" styleClass="pequena,grande">
				        <h:outputLabel value="Data:" />
				        <h:inputText id="data" value="#{atendimentoMB.atendimento.dtCadastro}" pt:placeholder="Digite a data do atendimento"
				        required="true" requiredMessage="- A data do atendimento é obrigatória" style="width:10%"/>
				         <h:outputLabel value="Ticket(s):" />
				        <h:inputText id="ticket" value="#{atendimentoMB.atendimento.chamado}" pt:placeholder="Informe o(s) tickets(s). Se for mais de um, separar por vírgula, sem espaços"
				        required="true" requiredMessage="- Ao menos 1 ticket é obrigatório" style="width:100%"/>
				        <h:outputLabel value="Sistema:" />
				       	<h:selectOneMenu value="#{atendimentoMB.sistema.id}" required="true"
        			requiredMessage="- Informe o sistema.">
				       		<f:selectItem  itemLabel="--------" itemValue="" />
        					<f:selectItems value="#{sistemaMB.sistemas}" var="s" itemLabel="#{s.nome}" itemValue="#{s.id}" />
				       	</h:selectOneMenu>
				       	<h:outputLabel value="Usuário atendente: "/>
				       	<h:selectOneMenu value="#{atendimentoMB.atendente.id}"  required="true"
        			requiredMessage="- A escolha de um atendente é obrigatória." >
        				
        				<f:selectItem  itemLabel="--------" itemValue="" />
        				<f:selectItems value="#{visitaPreventivaMB.atendentes}" var="atend" itemLabel="#{atend.nome}" itemValue="#{atend.id}" />
        			</h:selectOneMenu>	        
				        			       
				        				        
        				<h:outputLabel value="Problema:" />
        				<pe:ckEditor id="problema" value="#{atendimentoMB.atendimento.problema}" width="100%" escape="false"
        				toolbar="[['Cut','Copy','Paste','PasteText','PasteFromWord','-', 'Bold', 'Italic', 'Underline', 'Strike', 'Subscript', 'Superscript','-','SpellChecker', 'Scayt','-', 'TextColor', 'BGColor',
        				'-','list', 'indent', 'blocks', 'align','-','Link', 'Unlink','-','NumberedList', 'BulletedList', '-','Styles', 'Format', 'Font', 'FontSize','-','JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock']]"
        				 />  
        				<h:outputLabel value="Solução:" />
        				<h:selectOneMenu  required="true" requiredMessage="- A solução é necessária"
				        value="#{atendimentoMB.atendimento.solucao}">
				        	<f:selectItem itemLabel="--------" itemValue="" />
				        	<f:selectItem itemLabel="Repassado CDS" itemValue="Repassado CDS" />
				        	<f:selectItem itemLabel="Repassado CITIC" itemValue="Repassado CITIC" />
				        	<f:selectItem itemLabel="Repassado Gabinete SETIC" itemValue="Repassado Gabinete SETIC" />
				        	<f:selectItem itemLabel="Repassado SA" itemValue="Repassado SA" />
				        	<f:selectItem itemLabel="Repassado Zuchini" itemValue="Repassado Zuchini" />
				        	<f:selectItem itemLabel="Resolvido SA" itemValue="Resolvido SA" />
				        	<f:selectItem itemLabel="Resolvido SAE" itemValue="Resolvido SAE" />
				        </h:selectOneMenu>
        				<h:outputLabel value="Encaminhamento:" />
        				<pe:ckEditor id="encaminhamento" value="#{atendimentoMB.atendimento.encaminhamento}" width="100%"
        				toolbar="[['Cut','Copy','Paste','PasteText','PasteFromWord','-', 'Bold', 'Italic', 'Underline', 'Strike', 'Subscript', 'Superscript','-','SpellChecker', 'Scayt','-', 'TextColor', 'BGColor',
        				'-','list', 'indent', 'blocks', 'align','-','Link', 'Unlink','-','NumberedList', 'BulletedList', '-','Styles', 'Format', 'Font', 'FontSize','-','JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock']]"
        				 />  
        				<h:outputLabel value="Observação:" />
        				 <pe:ckEditor id="wiki" value="#{atendimentoMB.atendimento.wiki}" width="100%"
        				 toolbar="[['Cut','Copy','Paste','PasteText','PasteFromWord','-', 'Bold', 'Italic', 'Underline', 'Strike', 'Subscript', 'Superscript','-','SpellChecker', 'Scayt','-', 'TextColor', 'BGColor',
        				'-','list', 'indent', 'blocks', 'align','-','Link', 'Unlink','-','NumberedList', 'BulletedList', '-','Styles', 'Format', 'Font', 'FontSize','-','JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock']]"
        				  />  
				     	<h:outputLabel value="" />
				     	
                <p:commandButton value="Salvar" actionListener="#{atendimentoMB.salvar()}" update="@form" oncomplete="window.scrollTo(0,0);" />
                </p:panelGrid>            	
           </h:form>
     
        	
        </div>
        <!-- Fim Container dos painéis -->
    </div>
</div>
    <!-- Fim Conteúdo da página -->
</ui:define>
</ui:composition>